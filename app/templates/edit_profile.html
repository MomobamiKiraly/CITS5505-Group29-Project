<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Edit Profile - F1 Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>

<body>
    <div class="login-container">

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">
            {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <h2>Edit Profile</h2>

            <div class="form-group">
                {{ form.username.label(class="label") }}
                {{ form.username(class="input", value=user.username) }}
            </div>

            <div class="form-group">
                {{ form.email.label(class="label") }}
                {{ form.email(class="input", value=user.email) }}
            </div>

            <div class="form-group">
                {{ form.favorite_team.label(class="label") }}
                {{ form.favorite_team(class="input", id="favorite_team") }}
            </div>

            <div class="form-group">
                {{ form.favorite_driver.label(class="label") }}
                {{ form.favorite_driver(class="input", id="favorite_driver") }}
            </div>

            <div class="form-group">
                {{ form.bio.label(class="label") }}
                {{ form.bio(class="input") }}
            </div>

            <div class="form-group">
                {{ form.profile_pic.label(class="label") }}
                {{ form.profile_pic(class="input") }}
            </div>

            {{ form.submit(class="btn") }}
        </form>

    </div>
</body>

</html>

<script>
    const driversByTeam = {{ drivers_by_team | tojson }};
    const selectedTeam = "{{ user.favorite_team }}";
    const selectedDriver = "{{ user.favorite_driver }}";
</script>

<script src="{{ url_for('static', filename='js/edit_profile.js') }}"></script>
